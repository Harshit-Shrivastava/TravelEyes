<!DOCTYPE html>
<html>
<title>My Travel Eyes</title>
<head>
<style>

	html, body{
		margin:0;
		padding:0;
		height:100%;
	
	}
	
	#map-canvas{
		position:absolute;
		top:400px;
		left:200px;
		width:600px;
		height:600px;
	}
</style>

<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>

<script>
/*
	google.maps.VisualRefresh=true;
	
	var map;
	
	function initialize(){
		var mapOptions={
			zoom:8,
			center:new google.maps.LatLng(12.955800,77.620979),
			mapTypeId: google.maps.MapTypeId.ROADMAP
		};
		
		map = new google.maps.Map(document.getElementById('map-canvas'),mapOptions);
		
		
	}
	
	google.maps.event.addDomListener(window,'load',initialize);*/
</script>

<script type="text/javascript" src="js/bootstrap.js" />
</script>
<script type="text/javascript" src="js/jquery-1.10.2.min.js">
</script>
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
<link href="/maps/documentation/javascript/examples/default.css" rel="stylesheet" />


<script type="text/javascript">

function load_coordinates() {
	$(document).ready(function() {
		google.maps.VisualRefresh=true;
			var geocoder = new google.maps.Geocoder();

			geocoder.geocode({'address': 'Taj Mahal'}, function(results, status) {
				if(status == google.maps.GeocoderStatus.OK) {
					//alert('works!!!');
					var latitude = results[0].geometry.location.mb;
					var longitude = results[0].geometry.location.nb;
					//alert(latitude);
					//alert(longitude);
					$("#latitude").text(latitude);
					$("#longitude").text(longitude);
					
					var location = ['New Delhi', latitude, longitude];
					
					var map_win = new google.maps.Map(document.getElementById("map-canvas"), {
						zoom: 10,
						center: new google.maps.LatLng(latitude, longitude),
						mapTypeId: google.maps.MapTypeId.ROADMAP
					});
					
					map_win.setCenter(results[0].geometry.location);

					
					var infoWindow = new google.maps.InfoWindows();
					var marker;
					
					marker = new google.maps.Marker({
						position: results[0].geometry.location,
						map: map_win,
						title: 'New Delhi'
					});
					
					google.maps.event.addListener(marker, 'click', (function(marker, i) {
						return function() {
							infoWindow.setContent(location[0]);
							infoWindow.open(map_win, marker);
						}
					})(marker, i));
					
				} else {
					alert('doesnt work!!!');
				}
			});
		});
}

</script>


<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

</head>

<body onload="load_coordinates();">
<form class="well inline">

<label>Source</label>
<input type="text" class="span3" /><br />
<label>Destination</label>
<input type="text" class="span3" /><br />
<button class="btn btn-primary">Submit</button>
<button class="btn">Clear</button>
</form>
<div id="map-canvas">



</div><br /><br />


<p id="latitude">
</p>
<br />
<p id="longitude">
</p>

</body>
</html>
