<!DOCTYPE html>
<html>
<title>My Travel Eyes</title>
<head>
<style>
/*
	html, body{
		margin:0;
		padding:0;
		height:100%;
	
	}
	
	#map-canvas{
		position:absolute;
		top:400px;
		left:200px;
		width:600px;
		height:600px;
	}*/
	
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

#map-canvas, #map_canvas {
  height: 50%;
}

@media print {
  html, body {
    height: auto;
  }

  #map-canvas, #map_canvas {
    height: 650px;
  }
}

#panel {
  position: absolute;
  top: 5px;
  left: 50%;
  margin-left: -180px;
  z-index: 5;
  background-color: #fff;
  padding: 5px;
  border: 1px solid #999;
}

</style>

<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>

<script>
/*
	google.maps.VisualRefresh=true;
	
	var map;
	
	function initialize(){
		var mapOptions={
			zoom:8,
			center:new google.maps.LatLng(12.955800,77.620979),
			mapTypeId: google.maps.MapTypeId.ROADMAP
		};
		
		map = new google.maps.Map(document.getElementById('map-canvas'),mapOptions);
		
		
	}
	
	google.maps.event.addDomListener(window,'load',initialize);*/
</script>

<script type="text/javascript" src="js/bootstrap.js" />
</script>
<script type="text/javascript" src="js/jquery-1.10.2.min.js">
</script>
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
<link href="/maps/documentation/javascript/examples/default.css" rel="stylesheet" />


<script type="text/javascript">
var map_win;
var infowindow;
function load_coordinates() {
	$(document).ready(function() {
		google.maps.VisualRefresh=true;
			var geocoder = new google.maps.Geocoder();

			geocoder.geocode({'address': 'Taj Mahal'}, function(results, status) {
				if(status == google.maps.GeocoderStatus.OK) {
					//alert('works!!!');
					var latitude = results[0].geometry.location.mb;
					var longitude = results[0].geometry.location.nb;
					//alert(latitude);
					//alert(longitude);
					$("#latitude").text(latitude);
					$("#longitude").text(longitude);
					
					var location = ['New Delhi', latitude, longitude];
					
					var lat_lng = new google.maps.LatLng(latitude, longitude);
					
					var map_options = {
						zoom: 4,
						center: lat_lng,
						mapTypeId: google.maps.MapTypeId.ROADMAP
					};
					
					map_win = new google.maps.Map(document.getElementById("map-canvas"), map_options);
					
					//map_win.setCenter(results[0].geometry.location);

					
					infowindow = new google.maps.InfoWindow();
					var marker;
					
					marker = new google.maps.Marker({
						position: lat_lng,
						map: map_win,
						title: 'Taj Mahal'
					});
					
					/*google.maps.event.addListener(marker, 'click', (function(marker, i) {
						return function() {
							infoWindow.setContent(location[0]);
							infoWindow.open(map_win, marker);
						}
					})(marker, i));*/
					
					google.maps.event.addListener(marker, 'click', function() {
						map_win.setCenter(lat_lng);
						map.set_zoom(18);
						onItemClick(event, marker);
					});
					
				} else {
					alert('doesnt work!!!');
				}
			});
		});
}

function onItemClick(event, pin) { 
  // Create content  
  var contentString = pin.data.text + "<br /><br /><hr />Coordinate: " + pin.data.lng +"," + pin.data.lat; 

  // Replace our Info Window's content and position 
  infowindow.setContent(contentString); 
  infowindow.setPosition(pin.position); 
  infowindow.open(map_win) 
} 

</script>


<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

</head>

<body onload="load_coordinates();">
<form class="well inline">

<label>Source</label>
<input type="text" class="span3" /><br />
<label>Destination</label>
<input type="text" class="span3" /><br />
<button class="btn btn-primary">Submit</button>
<button class="btn">Clear</button>
</form>
<div id="map-canvas">



</div><br /><br />


<p id="latitude">
</p>
<br />
<p id="longitude">
</p>

</body>
</html>
